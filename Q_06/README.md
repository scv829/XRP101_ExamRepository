# 6번 문제

주어진 프로젝트는 다음의 기능을 구현하고자 생성한 프로젝트이다.

### FPS 조작 구현
- 실행 시, 마우스 커서가 비활성화되며 마우스 회전으로 플레이어의 시야가 회전한다.
- 현재 바라보고 있는 방향 기준으로 W, A, S, D로 전, 후, 좌, 우 이동을 수행한다
- 마우스 좌클릭 시, 시야 정면 방향으로 레이를 발사하고 레이캐스트에 검출된 적의 이름을 콘솔에 로그로 출력한다.

위 기능들을 구현하고자 할 때
제시된 프로젝트에서 발생하는 `문제들을 모두 서술`하고 올바르게 동작하도록 `소스코드를 개선`하시오.

## 답안

### 확인된 문제들

#### 1. 마우스 회전으로 플레이어의 시야가 회전이 안됨

- 원인
  - CameraController에서 타겟을 따라 움직이는 로직에서 생기는 원인
- 해결
  - followTarget이 카메라를 따라오게 되어있어 카메라가 followTarget을 따라가게 설정

#### 2. 마우스 좌클릭 시 적의 이름이 콘솔에 출력이 안됨

- 원인
  - 레이캐스트를 적을 향에 놓고 발사를 하는데 콘솔에 출력이 안됨
  - RayMask 문제
- 해결
  - Gun 스크립트에서 `Target Layer`가 설정이 안되어 있어서 Enemy로 변경해서 해결
  - 혹시 설정하는 것을 인스펙터창에서 하면 놓칠 수 있어서 다음과 같이 Awake에서 구현
    ```C#
    private void Awake()
    {
       _targetLayer = LayerMask.GetMask("Enemy");
    }
    ```

#### 3. 시야 정면에서 레이를 발사를 하는데 해당 오브젝트와 다른 오브젝트가 인식됨

- 원인
  - 레이캐스트를 다른 오브젝트를 보고 발사하는데 계속 다른 오브젝트가 인식됨
  - 레이캐스트의 방향이 문제
- 해결
  - 레이가 `Vector3.forward`되어 있어서 `Muzzle 오브젝트의 forward`로 변경하여 해경